
<section id="progressbar-container">
  <ul id="progressbar">
    <li class="showing">Company Info</li>
    <li>Applicant Info</li>
    <li>Position Info</li>
    <li>Benefits and Conditions</li>
    <li>Other Info</li>
  </ul>
</section>


<%= form_for @letter, html: {id: "multi-step-form", :class => 'multi-step'} do |f| %>





  <fieldset>

    <% if !@letter.errors.empty? %>
      <% @letter.errors.full_messages.each do |error| %>
        <% if error == "Co name can't be blank" %>

          <p class="warning"><%= error %></p>

          <script type="text/javascript">
            $(document).ready(function () {

              $("fieldset").hide();
              // go to current_id frame

              current_frame = $("fieldset").eq(0);

              $("#progressbar li").removeClass("showing");

              for (x = 0; x <= 0; x++) {
                $("#progressbar li").eq(x).addClass("showing");
              };

              current_frame.show();
              $("#letter_co_name").focus();
            });
          </script>

        <% end %>
      <% end %>
    <% end %>


    <h2 class="frame-title">Company Info</h2>
    <h3 class="frame-subtitle">Step 1 of 5</h3>

    <div class="textlabel"><%= f.label :co_name, "* Company Name" %></div>
    <%= f.text_field :co_name, :placeholder => "Company Name" %>
    <div class="textlabel"><%= f.label :co_address_1, "Address Line 1" %></div>
    <%= f.text_field :co_address_1, :placeholder => "Address Line 1" %>
    <div class="textlabel"><%= f.label :co_address_2, "Address Line 2" %></div>
    <%= f.text_field :co_address_2, :placeholder => "Address Line 2" %>
    <div class="textlabel"><%= f.label :co_city_state_zip, "City, State Zip" %></div>
    <%= f.text_field :co_city_state_zip, :placeholder => "City, State Zip" %>

    <input type="button" name="next" class="next action-button" value="Next" />
  </fieldset>

  <fieldset>
    <% if !@letter.errors.empty? %>
      <% @letter.errors.full_messages.each do |error| %>
        <% if (error == "Ap name can't be blank") %>

          <p class="warning"><%= error %></p>


          <% if @letter.errors.first.first.to_s == "ap_name" %>
            <script type="text/javascript">
              $(document).ready(function () {

                $("fieldset").hide();
                // go to current_id frame

                current_frame = $("fieldset").eq(1);

                $("#progressbar li").removeClass("showing");

                for (x = 0; x <= 1; x++) {
                  $("#progressbar li").eq(x).addClass("showing");
                };

                current_frame.show();
                $("#letter_ap_name").focus();
              });
            </script>
          <% end %>
        <% end %>
      <% end %>
    <% end %>

    <h2 class="frame-title">Applicant Info</h2>
    <h3 class="frame-subtitle">Step 2 of 5</h3>

    <div class="textlabel"><%= f.label :ap_name, "* Applicant Name" %></div>
      <%= f.text_field :ap_name, :placeholder => "Applicant Name" %>
    <div class="textlabel"><%= f.label :ap_address_1, "Address Line 1" %></div>
      <%= f.text_field :ap_address_1, :placeholder => "Address Line 1" %>
    <div class="textlabel"><%= f.label :ap_address_2, "Address Line 2" %></div>
      <%= f.text_field :ap_address_2, :placeholder => "Address Line 2" %>
    <div class="textlabel"><%= f.label :ap_city_state_zip, "City, State Zip" %></div>
      <%= f.text_field :ap_city_state_zip, :placeholder => "City, State Zip"%>

      <input type="button" name="previous" class="previous action-button" value="Previous" />
      <input type="button" name="next" class="next action-button" value="Next" />
  </fieldset>

  <fieldset>
    <h2 class="frame-title">Position Info</h2>
    <h3 class="frame-subtitle">Step 3 of 5</h3>

    <div class="textlabel"><%= f.label :pos_title, "Position" %></div>
    <%= f.text_field :pos_title, :placeholder => "Position" %>
    <div class="textlabel"><%= f.label :supervisor, "Supervisor" %></div>
    <%= f.text_field :supervisor, :placeholder => "Supervisor" %>
    <div class="textlabel"><%= f.label :hrs, "Hours per Week" %></div>
    <%= f.text_field :hrs, :placeholder => "Hours per Week" %>
    <div class="textlabel"><%= f.label :ap_wage, "Salary or Pay Rate" %></div>
    <%= f.text_field :ap_wage, :placeholder => "Salary or Pay Rate" %>

    <input type="button" name="previous" class="previous action-button" value="Previous" />
    <input type="button" name="next" class="next action-button" value="Next" />
  </fieldset>

  <fieldset>
    <h2 class="frame-title">Benefits and Conditions</h2>
    <h3 class="frame-subtitle">Step 4 of 5</h3>

    <div class="barrier"></div>
    <div><strong>Benefits:</strong></div>
    <div class="barrier"></div>
    <div class="checkbox"><%= f.check_box :medical, {:name => 'medical', :checked => (true if params[:medical] == "1")} %></div>
    <div class="checkboxlabel"><%= f.label :medical %></div>
    <div class="checkbox"><%= f.check_box :dental, {:name => 'dental', :checked => (true if params[:dental] == "1")} %></div>
    <div class="checkboxlabel"><%= f.label :dental %></div>
    <div class="checkbox"><%= f.check_box :equity, {:name => 'equity', :checked => (true if params[:equity] == "1")} %></div>
    <div class="checkboxlabel"><%= f.label :equity %></div>
    <div class="checkbox"><%= f.check_box :bonus, {:name => 'bonus', :checked => (true if params[:bonus] == "1")} %></div>
    <div class="checkboxlabel"><%= f.label :bonus %></div>
    <div class="checkbox"><%= f.check_box :commission, {:name => 'commission', :checked => (true if params[:commission] == "1")} %></div>
    <div class="checkboxlabel"><%= f.label :commission %></div>

    <div class="barrier"></div>
    <div><strong>Conditions of Employment:</strong></div>
    <div class="barrier"></div>
    <div class="checkbox"><%= f.check_box :drug_test, {:name => 'drug_test', :checked => (true if params[:drug_test] == "1")} %></div>
    <div class="checkboxlabel"><%= f.label :drug_test, "Drug Test" %></div>
    <div class="checkbox"><%= f.check_box :bg_check, {:name => 'bg_check', :checked => (true if params[:bg_check] == "1")} %></div>
    <div class="checkboxlabel"><%= f.label :bg_check, "Background Check" %></div>

    <div class="barrier"></div>
    <input type="button" name="previous" class="previous action-button" value="Previous" />
    <input type="button" name="next" class="next action-button" value="Next" />
  </fieldset>

  <fieldset>
    <% if !@letter.errors.empty? %>

      <% @letter.errors.full_messages.each do |error| %>
        <% if (error == "Email is invalid" || error == "Email can't be blank") %>
          <p class="warning"><%= error %></p>
          <% if @letter.errors.first.first.to_s == "email" %>
            <script type="text/javascript">
              $(document).ready(function () {

                $("fieldset").hide();
                // go to current_id frame

                current_frame = $("fieldset").eq(4);

                $("#progressbar li").removeClass("showing");

                for (x = 0; x <= 4; x++) {
                  $("#progressbar li").eq(x).addClass("showing");
                };

                current_frame.show();
                $("#letter_email").focus();
              });
            </script>

          <% end %>
        <% end %>
      <% end %>
    <% end %>

    <h2 class="frame-title">Other Information</h2>
    <h3 class="frame-subtitle">Step 5 of 5</h3>

    <div class="textlabel"><%= f.label :co_rep, "Signed By" %></div>
    <%= f.text_field :co_rep, :placeholder => "Signed By" %>
    <div class="textlabel"><%= f.label :start_date, "Start Date" %></div>
      <%= f.date_field :start_date, :placeholder => "Start Date" %>
    <div class="textlabel"><%= f.label :expiry_date, "Offer Expires On" %></div>
    <%= f.date_field :expiry_date, :placeholder => "Offer Expires On" %>

    <div class="textlabel"><%= f.label :email, "* Email" %></div>
    <%= f.text_field :email, label: false, :placeholder => 'Your email address' %>
    <div class="textlabel"><%= f.label :email, "We will never spam you or sell any of your data." %></div>
    <input type="button" name="previous" class="previous action-button" value="Previous" />
    <%= f.submit "Download", :class => "action-button" %>
  </fieldset>
<% end %>


